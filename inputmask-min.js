;(function(e){function r(e){var t=e.keyCode;s(t,!0)}function i(e){var t=e.keyCode;s(t,!1)}function s(e,r){if(e==93||e==224)e=91;for(var i in t)if(t[i]==e){n[i]=r;break}}function o(){for(var e in n)n[e]=!1}function u(e){this.input=e,this.handleKey=function(e){console.log(e);if(n.ctrl||n.command)return;var t=null;typeof e.key!="undefined"?e.key.length===1&&(t=e.key):e.charCode?t=String.fromCharCode(e.charCode):t=String.fromCharCode(e.keyCode);if(t!==null&&t.length>0){var r=this.value.substring(0,this.selectionStart)+t+this.value.substring(this.selectionStart,this.value.length),i=this.getAttribute("data-mask"),s=new RegExp(i);s.exec(r)===null&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}},this.input.addEventListener("keypress",this.handleKey)}var t={shift:16,alt:18,ctrl:17,command:91},n={shift:!1,alt:!1,ctrl:!1,command:!1};document.addEventListener("keydown",r),document.addEventListener("keyup",i),window.addEventListener("focus",o),e.inputMask=u})(window);